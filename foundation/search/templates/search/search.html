{% extends 'cms_apphook.html' %}

{% load i18n %}

{% block title %}{% trans 'Search' %}{% endblock %}

{% block main %}
    <form action="." method="get" class="form">
      <div class="input-fake flex items-center">
        <input class="form-control flex-grow w-auto min-w-0 mr-2" name="q" type="text" placeholder="Your search keywords..." value="{{ query }}" />
        <button class="btn flex-shrink-0">
          <span>Search</span>
        </button>
      </div>
    </form>
    <hr class="mb-10"/>
  {% if query %}
    <h1 class="title text-h1 mb-10">{% trans 'Results' %}</h1>
    {% for search_result in page.object_list %}
      {% include "search/results.html" %}
      <hr/>
    {% empty %}
      <p>{% trans 'No results found.' %}</p>
    {% endfor %}

    {% if page.has_previous or page.has_next %}
      {% trans 'Previous' as previous %}
      {% trans 'Next' as next %}
      <div>
        {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; {{ previous }}{% if page.has_previous %}</a>{% endif %}
        |
        {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}{{ next }} &raquo;{% if page.has_next %}</a>{% endif %}
      </div>
    {% endif %}
  {% endif %}
{% endblock %}
