{% extends "base.html" %}

{% load compress %}
{% load cms_tags %}
{% load menu_tags %}
{% load static %}

{% block head-icons %}
    <link rel="icon" href="{% static 'favicon.ico' %}">
{% endblock %}

{% block head-css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block body-sheath %}
    <input type="checkbox" class="main-nav__switcher-indicator" id="main-nav__switcher-indicator">
    <div class="root">
      <div class="master -has-bg-circle -bg-circle-lg before:left-1/2 before:-translate-y-1/2">
        <div class="container">
          <!-- header -->
          <header class="main-header {{ className }}">
            <div class="flex justify-between items-center">
              <a href="/" class="lg">
                <img src="{% static 'images/lg-okfn.svg' %}" class="h-[4.375rem] md:h-[5.625rem]" alt="Open Knowledge Foundation">
              </a>

              <nav class="main-nav">
                <label for="main-nav__switcher-indicator" class="icon relative z-50 lg:hidden cursor-pointer">
                  <img src="{% static '/images/icons/menu.svg' %}" class="icon-menu" alt="Menu">
                  <img src="{% static '/images/icons/close.svg' %}" class="icon-close" alt="Menu">
                </label>
                <div class="main-nav__container">
                  <a href="/" class="lg">
                    <img src="{% static '/images/lg-okfn-black.svg' %}" class="h-20" alt="Open Knowledge Foundation">
                  </a>

                  <ul class="main-nav__menu">
                    {% show_menu_below_id "home" 0 1 1 100 "menu/menu.html" %}
                    <li class="main-nav__item -search switcher">
                      <input type="checkbox" id="switch-search" class="switcher__indicator">
                      <label for="switch-search" class="switcher__trigger icon">
                        <span></span>
                      </label>
                      <form action="/search" class="switcher__target form main-header__search">
                        <div class="input-fake flex">
                          <input class="form-control flex-grow" name="q" type="text" />
                          <button class="flex-shrink-0">
                            <img src="{% static '/img/icons/header-search.svg' %}" class="max-w-none" alt="Search">
                          </button>
                        </div>
                      </form>
                    </li>
                    {% language_chooser %}
                  </ul>
                </li>
              </ul>
                </div>
              </nav>
            </div>
          </header>
          <!-- /header -->
          {% include 'includes/messages.html' %}
          {% block body %}{% endblock %}
        </div>
      </div>
      {% include 'includes/footer.html' %}
    </div>
{% endblock %}

{% block javascript-libraries %}

        {% comment %}
  NB: The inline script tags here get compiled into the single JavaScript file
  for the page, so changes to these *will only show up* if the application is
  redeployed.

  The reason for this is simple. If we excise all inline script tags from our
  pages, then we can serve in production with a Content-Security-Policy which
  includes `unsafe-inline`, thus protecting ourselves from a wide range of XSS
  attacks.
{% endcomment %}

        <script type="text/javascript" src="{% static 'js/scripts.js' %}"
                charset="utf-8"></script>
        <script>
            $(function () {
                {% block template-js %}{% endblock template-js %}
            });
        </script>
{% endblock %}
