/*	
 * jQuery mmenu setSelected add-on
 * mmenu.frebsite.nl
 *
 * Copyright (c) Fred Heusschen
 */
!function(e){var t="mmenu",n="setSelected";e[t].addons[n]={setup:function(){var l=this,d=this.opts[n];this.conf[n];if(a=e[t].glbl,"boolean"==typeof d&&(d={hover:d,parent:d}),"object"!=typeof d&&(d={}),d=this.opts[n]=e.extend(!0,{},e[t].defaults[n],d),"detect"==d.current){var r=function(e){e=e.split("?")[0].split("#")[0];var t=l.$menu.find('a[href="'+e+'"], a[href="'+e+'/"]');t.length?l.setSelected(t.parent(),!0):(e=e.split("/").slice(0,-1),e.length&&r(e.join("/")))};r(window.location.href)}else d.current||this.bind("initPanels",function(e){e.find("."+s.listview).children("."+s.selected).removeClass(s.selected)});if(d.hover&&this.$menu.addClass(s.hoverselected),d.parent){this.$menu.addClass(s.parentselected);var c=function(e){this.$pnls.find("."+s.listview).find("."+s.next).removeClass(s.selected);for(var t=e.data(i.parent);t&&t.length;)t=t.not("."+s.vertical).children("."+s.next).addClass(s.selected).end().closest("."+s.panel).data(i.parent)};this.bind("openedPanel",c),this.bind("initPanels",function(e){c.call(this,this.$pnls.children("."+s.current))})}},add:function(){s=e[t]._c,i=e[t]._d,l=e[t]._e,s.add("hoverselected parentselected")},clickAnchor:function(e,t){}},e[t].defaults[n]={current:!0,hover:!1,parent:!1};var s,i,l,a}(jQuery);