/*
 * jQuery mmenu screenReader add-on
 * mmenu.frebsite.nl
 *
 * Copyright (c) Fred Heusschen
 */
!function(n){function e(n,e,i){n.prop("aria-"+e,i)[i?"attr":"removeAttr"]("aria-"+e,i)}function i(n){return'<span class="'+s.sronly+'">'+n+"</span>"}var t="mmenu",d="screenReader";n[t].addons[d]={setup:function(){var a=this.opts[d],h=this.conf[d];if(l=n[t].glbl,"boolean"==typeof a&&(a={aria:a,text:a}),"object"!=typeof a&&(a={}),a=this.opts[d]=n.extend(!0,{},n[t].defaults[d],a),a.aria){if(this.opts.offCanvas){var r=function(){e(this.$menu,"hidden",!1)},o=function(){e(this.$menu,"hidden",!0)};this.bind("open",r),this.bind("close",o),e(this.$menu,"hidden",!0)}var u=function(){},c=function(n){var i=this.$menu.children("."+s.navbar),t=i.children("."+s.prev),d=i.children("."+s.next),h=i.children("."+s.title);e(t,"hidden",t.is("."+s.hidden)),e(d,"hidden",d.is("."+s.hidden)),a.text&&e(h,"hidden",!t.is("."+s.hidden)),e(this.$pnls.children("."+s.panel).not(n),"hidden",!0),e(n,"hidden",!1)};this.bind("update",u),this.bind("openPanel",u),this.bind("openPanel",c);var p=function(i){var t;i=i||this.$menu;var d=i.children("."+s.navbar),h=d.children("."+s.prev),l=d.children("."+s.next);d.children("."+s.title);e(h,"haspopup",!0),e(l,"haspopup",!0),t=i.is("."+s.panel)?i.find("."+s.prev+", ."+s.next):h.add(l),t.each(function(){e(n(this),"owns",n(this).attr("href").replace("#",""))}),a.text&&i.is("."+s.panel)&&(t=i.find("."+s.listview).find("."+s.fullsubopen).parent().children("span"),e(t,"hidden",!0))};this.bind("initPanels",p),this.bind("_initAddons",p)}if(a.text){var f=function(e){var d;e=e||this.$menu;var a=e.children("."+s.navbar);a.each(function(){var e=n(this),a=n[t].i18n(h.text.closeSubmenu);d=e.children("."+s.title),d.length&&(a+=" ("+d.text()+")"),e.children("."+s.prev).html(i(a))}),a.children("."+s.close).html(i(n[t].i18n(h.text.closeMenu))),e.is("."+s.panel)&&e.find("."+s.listview).children("li").children("."+s.next).each(function(){var e=n(this),a=n[t].i18n(h.text[e.parent().is("."+s.vertical)?"toggleSubmenu":"openSubmenu"]);d=e.nextAll("span, a").first(),d.length&&(a+=" ("+d.text()+")"),e.html(i(a))})};this.bind("initPanels",f),this.bind("_initAddons",f)}},add:function(){s=n[t]._c,a=n[t]._d,h=n[t]._e,s.add("sronly")},clickAnchor:function(n,e){}},n[t].defaults[d]={aria:!1,text:!1},n[t].configuration[d]={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}};var s,a,h,l}(jQuery);